# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤

## üö® –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –Ω–µ –º–æ–∂–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è, –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É:
```
Failed to load resource: net::ERR_CONNECTION_REFUSED
localhost:3000/api/auth/login:1
```

## üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
Angular –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —Ä–∞–±–æ—Ç—É —Ç–æ–ª—å–∫–æ —Å `localhost`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ. –î—Ä—É–≥–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã –≤ —Å–µ—Ç–∏ –Ω–µ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `localhost`.

## ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–∞:
```bash
node get-network-config.js
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∞—à IP-–∞–¥—Ä–µ—Å –≤ —Å–µ—Ç–∏
- –°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ü–æ–∫–∞–∂–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

### –®–∞–≥ 2: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
node diagnose-network.js
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å —Å–µ—Ç–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º

1. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ server.js):
   ```bash
   node server.js
   ```

2. **–ó–∞–ø—É—Å–∫ Angular —Å —Å–µ—Ç–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º**:
   ```bash
   ng serve --host 0.0.0.0 --port 4200 --proxy-config proxy.auto.conf.json
   ```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞ Windows
–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∫–∞–∫ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```powershell
netsh advfirewall firewall add rule name="NodeJS App" dir=in action=allow protocol=TCP localport=3000
netsh advfirewall firewall add rule name="Angular Dev Server" dir=in action=allow protocol=TCP localport=4200
```

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–æ—Å—Ç–∞
–û–±–Ω–æ–≤–∏—Ç–µ `src/environments/environment.ts`:
```typescript
export const environment = {
    production: false,
    apiUrl: 'http://' + (window.location.hostname === 'localhost' ? 'localhost' : window.location.hostname) + ':3000/api'
};
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π IP-–∞–¥—Ä–µ—Å
–ó–∞–º–µ–Ω–∏—Ç–µ `environment.ts` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP-–∞–¥—Ä–µ—Å:
```typescript
export const environment = {
    production: false,
    apiUrl: 'http://192.168.1.100:3000/api' // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à IP
};
```

### –ù–∞–π—Ç–∏ —Å–≤–æ–π IP-–∞–¥—Ä–µ—Å:
```bash
# Windows
ipconfig

# Linux/Mac
ifconfig
```

## üåê –î–æ—Å—Ç—É–ø —Å –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã —Å–º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ –∞–¥—Ä–µ—Å—É:
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: `http://–í–ê–®_IP:4200`
- **API**: `http://–í–ê–®_IP:3000/api`

–ù–∞–ø—Ä–∏–º–µ—Ä:
- `http://192.168.1.100:4200`
- `http://192.168.1.100:3000/api`

## üìã –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω —Å `host: '0.0.0.0'` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ server.js)
- [ ] Angular –∑–∞–ø—É—â–µ–Ω —Å `--host 0.0.0.0`
- [ ] –ü–æ—Ä—Ç—ã 3000 –∏ 4200 –æ—Ç–∫—Ä—ã—Ç—ã –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ
- [ ] IP-–∞–¥—Ä–µ—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω –≤ environment.ts
- [ ] –î—Ä—É–≥–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
# 1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
node get-network-config.js

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
node server.js

# 3. –í –Ω–æ–≤–æ–π –∫–æ–Ω—Å–æ–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Angular
ng serve --host 0.0.0.0 --port 4200 --proxy-config proxy.auto.conf.json
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:
```bash
# –°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
ng build --configuration production

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä (–æ–Ω –±—É–¥–µ—Ç —Ä–∞–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)
node server.js
```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–Ω–µ—à–Ω–∏–π IP-–∞–¥—Ä–µ—Å (212.220.204.230 –∏–∑ –≤–∞—à–∏—Ö —Ñ–∞–π–ª–æ–≤):
```typescript
export const environment = {
    production: false,
    apiUrl: 'http://212.220.204.230:3000/api'
};
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏
–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω DuckDNS:
```typescript
export const environment = {
    production: false,
    apiUrl: 'http://novadom.duckdns.org:3000/api'
};
```

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### "ERR_CONNECTION_REFUSED" –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `node server.js`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ IP-–∞–¥—Ä–µ—Å–µ
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω –≤–∞—à IP
2. –í server.js —É–∂–µ –µ—Å—Ç—å `'*'` –≤ origin, —á—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –¥–æ–º–µ–Ω—ã

### Angular –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å --host 0.0.0.0
–í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
```bash
ng serve --host 0.0.0.0 --disable-host-check
# –∏–ª–∏
ng serve --host 0.0.0.0 --public-host –í–ê–®_IP
```

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://–í–ê–®_IP:4200` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ –¥—Ä—É–≥–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å –¥–∞–Ω–Ω—ã–º–∏: admin / password123
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ! 