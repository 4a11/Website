<div class="admin-container">
    <!-- Боковое меню -->
    <aside class="sidemenu">
        <div class="logo-section">
            <i class="fas fa-building"></i>
            <span>Админ панель</span>
        </div>
        
        <nav>
            <ul>
                <li [class.active]="currentSection === 'dashboard'">
                    <a routerLink="/admin" routerLinkActive="active">
                        <i class="fas fa-chart-line"></i>
                        <span>Дашборд</span>
                    </a>
                </li>
                <li [class.active]="currentSection === 'employees'">
                    <a routerLink="/admin/employees" routerLinkActive="active">
                        <i class="fas fa-users"></i>
                        <span>Сотрудники</span>
                    </a>
                </li>
                <li [class.active]="currentSection === 'facilities'">
                    <a routerLink="/admin/facilities" routerLinkActive="active">
                        <i class="fas fa-building"></i>
                        <span>Объекты</span>
                    </a>
                </li>
                <li [class.active]="currentSection === 'reports'">
                    <a routerLink="/admin/reports" routerLinkActive="active">
                        <i class="fas fa-file-alt"></i>
                        <span>Отчеты</span>
                    </a>
                </li>
                <li [class.active]="currentSection === 'settings'">
                    <a routerLink="/admin/settings" routerLinkActive="active">
                        <i class="fas fa-cog"></i>
                        <span>Настройки</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="user-section">
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <div class="user-details">
                    <span class="user-name">Администратор</span>
                    <span class="user-role">Системный администратор</span>
                </div>
            </div>
            <button class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Выйти</span>
            </button>
        </div>
    </aside>

    <!-- Основной контент -->
    <main class="content">
        <header class="header">
            <h2>{{pageTitle}}</h2>
            <div class="header-actions">
                <button class="notification-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                <button class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <!-- Статистика -->
        <section class="stats-container">
            <h3>Общая статистика</h3>
            <div class="stat-card">
                <div class="stat-item">
                    <div class="stat-icon employees">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <span class="number">{{totalEmployees}}</span>
                        <span class="trend">Всего сотрудников</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon facilities">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="stat-info">
                        <span class="number">{{totalFacilities}}</span>
                        <span class="trend">Всего объектов</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon workload">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <div class="stat-info">
                        <span class="number">{{averageWorkload}}%</span>
                        <span class="trend">Средняя загрузка</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Таблица сотрудников -->
        <section class="data-table">
            <div class="table-header">
                <h3>Сотрудники</h3>
                <button class="add-btn" (click)="onAddEmployee()">
                    <i class="fas fa-plus"></i>
                    <span>Добавить сотрудника</span>
                </button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Сотрудник</th>
                        <th>Должность</th>
                        <th>Объект</th>
                        <th>Статус</th>
                        <th>Действия</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let employee of employees">
                        <td>
                            <div class="employee-info">
                                <i class="fas fa-user"></i>
                                <span>{{employee.name}}</span>
                            </div>
                        </td>
                        <td>{{employee.position}}</td>
                        <td>{{employee.location}}</td>
                        <td>
                            <span class="status" [class.active]="employee.status === 'active'">
                                {{employee.status === 'active' ? 'Активен' : 'Неактивен'}}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn edit" (click)="onEditEmployee(employee)">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn delete" (click)="onDeleteEmployee(employee)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Таблица объектов -->
        <section class="data-table">
            <div class="table-header">
                <h3>Объекты</h3>
                <button class="add-btn">
                    <i class="fas fa-plus"></i>
                    <span>Добавить объект</span>
                </button>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Объект</th>
                        <th>Адрес</th>
                        <th>Тип</th>
                        <th>Статус</th>
                        <th>Действия</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let facility of facilities">
                        <td>
                            <div class="facility-info">
                                <i class="fas fa-building"></i>
                                <span>{{facility.name}}</span>
                            </div>
                        </td>
                        <td>{{facility.address}}</td>
                        <td>{{facility.type}}</td>
                        <td>
                            <span class="status" [class.active]="facility.status === 'active'">
                                {{facility.status === 'active' ? 'Активен' : 'Неактивен'}}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-btn delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <app-add-employee-modal
            *ngIf="showAddEmployeeModal"
            [employeeToEdit]="selectedEmployee"
            (close)="onCloseAddEmployeeModal()"
            (employeeAdded)="onEmployeeAdded($event)"
            (employeeUpdated)="onEmployeeUpdated($event)">
        </app-add-employee-modal>
    </main>
</div>
